{"version":3,"sources":["webpack:///./src/flux/stores/ListStore.js","webpack:///./src/components/MyButtonController.js","webpack:///./src/components/MyButton.js","webpack:///./src/index.js","webpack:///./src/page/index.js","webpack:///./src/flux/actions/ButtonActions.js","webpack:///./src/flux/dispatcher/AppDispatcher.js","webpack:///./src/static/js/main.js"],"names":["EventEmitter","__webpack_require__","ListStore","assign","prototype","items","getAll","this","addNewItemHandler","text","console","log","push","emitChange","emit","addChangeListener","callback","on","removeChangeListener","removeListener","module","exports","_MyButton","MyButtonController","props","_classCallCheck3","default","_this","_possibleConstructorReturn3","__proto__","_getPrototypeOf2","call","state","_ListStore2","trim","_onChange","bind","setState","event","_ButtonActions2","addNewItem","_react2","createElement","MyButton","onClick","createNewItem","Component","map","listItem","i","key","_reactRouterDom","_index","div_content","document","id","body","appendChild","AutoBrower","info","_reactDom2","render","basename","Route","exact","path","match","location","IndexPage","_MyButtonController","AppDispatcher","ButtonActions","dispatch","actionType","Dispatcher","register","action"],"mappings":"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","file":"static/js/app.14dbb77e22b2e6f5cef6.js","sourcesContent":["var EventEmitter = require('events').EventEmitter;\r\nvar assign = require('object-assign');\r\n\r\nvar ListStore = assign({}, EventEmitter.prototype, {\r\n  items: [],\r\n\r\n  getAll: function () {\r\n    return this.items;\r\n  },\r\n\r\n  addNewItemHandler: function (text) {\r\n    console.log('addNewItemHandler');\r\n    this.items.push(text);\r\n  },\r\n\r\n  emitChange: function () {\r\n    console.log('emitChange');\r\n    this.emit('change');\r\n  },\r\n\r\n  addChangeListener: function(callback) {\r\n    console.log('addChangeListener');\r\n    this.on('change', callback);\r\n  },\r\n\r\n  removeChangeListener: function(callback) {\r\n    console.log('removeChangeListener');\r\n    this.removeListener('change', callback);\r\n  }\r\n});\r\n\r\nmodule.exports = ListStore;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/flux/stores/ListStore.js","import React from'react';\r\nimport ListStore from '../flux/stores/ListStore.js';\r\nimport ButtonActions from '../flux/actions/ButtonActions.js';\r\nimport {MyButton} from './MyButton.js';\r\n\r\n\r\nclass MyButtonController extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            items:ListStore.getAll()\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(trim('   7788            '));\r\n        ListStore.addChangeListener(this._onChange.bind(this));\r\n    };\r\n\r\n    componentWillUnmount() {\r\n        ListStore.removeChangeListener(this._onChange.bind(this));\r\n    };\r\n\r\n    _onChange () {\r\n        console.log('_onChange')\r\n        console.log(ListStore.getAll())\r\n        this.setState({\r\n            items: ListStore.getAll()\r\n        });\r\n    };\r\n\r\n    createNewItem (event) {\r\n        console.log('createNewItem');\r\n        //用法1 推荐\r\n        ButtonActions.addNewItem('new item');\r\n        \r\n        // //用法2\r\n        // ListStore.addNewItemHandler('new item');\r\n        // ListStore.emitChange();\r\n        // ListStore.addChangeListener(this._onChange.bind(this));\r\n\r\n        // //错误用法\r\n        // ListStore.addNewItemHandler('new item');\r\n    };\r\n\r\n    render() {\r\n        return <MyButton\r\n            items={this.state.items}\r\n            onClick={this.createNewItem.bind(this)}\r\n        />;\r\n    }\r\n\r\n}\r\nexport {MyButtonController}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/MyButtonController.js","import React from 'react';\r\n\r\nclass MyButton extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        console.log('MyButton.constructor');\r\n        console.log(this.props.items);\r\n    }\r\n\r\n\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n\r\n                <ul>\r\n                    {\r\n                        this.props.items.map(function(listItem,i){  \r\n                            return <li key={i}>{listItem}</li>;\r\n                        })  \r\n                    }\r\n                </ul>\r\n\r\n                <button onClick={this.props.onClick}>New Item</button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport {MyButton};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/MyButton.js","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {BrowserRouter,HashRouter, Route, Link,Redirect} from 'react-router-dom';\r\nimport './static/css/style.css';\r\nimport $ from 'jquery';\r\nimport './static/js/main.js';\r\nimport {IndexPage} from './page/index.js';\r\n\r\n\r\nvar div_content=document.createElement('div');\r\ndiv_content.id=\"content\";\r\ndocument.body.appendChild(div_content);\r\n\r\n var AutoBrower=BrowserRouter;\r\nif(process.env.NODE_ENV==='production'){\r\n    console.info('production env use nodejs server,so use BrowserRouter to router');\r\n    AutoBrower=BrowserRouter;\r\n}else{\r\n    console.info('dev env use webpack-dev-server,so use HashRouter to router');\r\n    AutoBrower=HashRouter;\r\n}\r\n\r\n\r\nconst MenuRouter=()=>(\r\n        <AutoBrower basename=\"/\">\r\n            <div>\r\n                <Route exact path=\"/\"  render={(match,location)=>(\r\n                    <IndexPage/>\r\n                )} />\r\n\r\n                <Route exact path=\"/other\"  render={(match,location)=>(\r\n                    <div>\r\n                            other Route\r\n                    </div>\r\n                )} />\r\n            </div>\r\n        </AutoBrower>\r\n);\r\n\r\nReactDOM.render(\r\n    (<MenuRouter/>)\r\n    , div_content);\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import React from 'react';\r\nimport {MyButtonController} from '../components/MyButtonController.js';\r\n\r\nclass IndexPage extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <MyButtonController/>\r\n        )\r\n    }\r\n}\r\nexport {IndexPage};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/page/index.js","var AppDispatcher = require('../dispatcher/AppDispatcher');\r\n\r\nvar ButtonActions = {\r\n\r\n  addNewItem: function (text) {\r\n    AppDispatcher.dispatch({\r\n      actionType: 'ADD_NEW_ITEM',\r\n      text: text\r\n    });\r\n  },\r\n\r\n};\r\n\r\nmodule.exports = ButtonActions;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/flux/actions/ButtonActions.js","var Dispatcher = require('flux').Dispatcher;\r\nvar AppDispatcher = new Dispatcher();\r\nvar ListStore = require('../stores/ListStore.js');\r\n\r\nAppDispatcher.register(function (action) {\r\n  switch(action.actionType) {\r\n    case 'ADD_NEW_ITEM':\r\n      ListStore.addNewItemHandler(action.text);\r\n      ListStore.emitChange();\r\n      break;\r\n    default:\r\n      // no op\r\n  }\r\n})\r\n\r\nmodule.exports = AppDispatcher;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/flux/dispatcher/AppDispatcher.js","\r\n\r\nconsole.log(trim('      99999966666666   8888       '));\n\n\n// WEBPACK FOOTER //\n// ./src/static/js/main.js"],"sourceRoot":""}
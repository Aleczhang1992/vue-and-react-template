{"version":3,"sources":["webpack:///./src/flux/stores/ListStore.js","webpack:///./src/components/MyButtonController.js","webpack:///./src/components/MyButton.js","webpack:///./src/index.js","webpack:///./src/page/index.js","webpack:///./src/flux/actions/ButtonActions.js","webpack:///./src/flux/dispatcher/AppDispatcher.js"],"names":["EventEmitter","__webpack_require__","ListStore","assign","prototype","items","getAll","this","addNewItemHandler","text","console","log","push","emitChange","emit","addChangeListener","callback","on","removeChangeListener","removeListener","module","exports","_MyButton","MyButtonController","props","_classCallCheck","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","call","state","_ListStore2","default","_react2","Component","_onChange","bind","setState","event","_ButtonActions2","addNewItem","createElement","MyButton","onClick","createNewItem","map","listItem","i","key","_reactRouterDom","_index","div_content","document","id","body","appendChild","AutoBrower","info","_reactDom2","render","basename","Route","exact","path","match","location","IndexPage","_MyButtonController","AppDispatcher","ButtonActions","dispatch","actionType","Dispatcher","register","action"],"mappings":"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","file":"static/js/app.5051cb59c27c96ee8c4d.js","sourcesContent":["var EventEmitter = require('events').EventEmitter;\r\nvar assign = require('object-assign');\r\n\r\nvar ListStore = assign({}, EventEmitter.prototype, {\r\n  items: [],\r\n\r\n  getAll: function () {\r\n    return this.items;\r\n  },\r\n\r\n  addNewItemHandler: function (text) {\r\n    console.log('addNewItemHandler');\r\n    this.items.push(text);\r\n  },\r\n\r\n  emitChange: function () {\r\n    console.log('emitChange');\r\n    this.emit('change');\r\n  },\r\n\r\n  addChangeListener: function(callback) {\r\n    console.log('addChangeListener');\r\n    this.on('change', callback);\r\n  },\r\n\r\n  removeChangeListener: function(callback) {\r\n    console.log('removeChangeListener');\r\n    this.removeListener('change', callback);\r\n  }\r\n});\r\n\r\nmodule.exports = ListStore;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/flux/stores/ListStore.js","import React from'react';\r\nimport ListStore from '../flux/stores/ListStore.js';\r\nimport ButtonActions from '../flux/actions/ButtonActions.js';\r\nimport {MyButton} from './MyButton.js';\r\n\r\n\r\nclass MyButtonController extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            items:ListStore.getAll()\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        ListStore.addChangeListener(this._onChange.bind(this));\r\n    };\r\n\r\n    componentWillUnmount() {\r\n        ListStore.removeChangeListener(this._onChange.bind(this));\r\n    };\r\n\r\n    _onChange () {\r\n        console.log('_onChange')\r\n        console.log(ListStore.getAll())\r\n        this.setState({\r\n            items: ListStore.getAll()\r\n        });\r\n    };\r\n\r\n    createNewItem (event) {\r\n        console.log('createNewItem');\r\n        //用法1 推荐\r\n        ButtonActions.addNewItem('new item');\r\n        \r\n        // //用法2\r\n        // ListStore.addNewItemHandler('new item');\r\n        // ListStore.emitChange();\r\n        // ListStore.addChangeListener(this._onChange.bind(this));\r\n\r\n        // //错误用法\r\n        // ListStore.addNewItemHandler('new item');\r\n    };\r\n\r\n    render() {\r\n        return <MyButton\r\n            items={this.state.items}\r\n            onClick={this.createNewItem.bind(this)}\r\n        />;\r\n    }\r\n\r\n}\r\nexport {MyButtonController}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/MyButtonController.js","import React from 'react';\r\n\r\nclass MyButton extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        console.log('MyButton.constructor');\r\n        console.log(this.props.items);\r\n    }\r\n\r\n\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n\r\n                <ul>\r\n                    {\r\n                        this.props.items.map(function(listItem,i){  \r\n                            return <li key={i}>{listItem}</li>;\r\n                        })  \r\n                    }\r\n                </ul>\r\n\r\n                <button onClick={this.props.onClick}>New Item</button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport {MyButton};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/MyButton.js","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {BrowserRouter,HashRouter, Route, Link,Redirect} from 'react-router-dom';\r\nimport './static/css/style.css';\r\nimport $ from 'jquery';\r\nimport './static/js/main.js';\r\nimport {IndexPage} from './page/index.js';\r\n\r\n\r\nvar div_content=document.createElement('div');\r\ndiv_content.id=\"content\";\r\ndocument.body.appendChild(div_content);\r\n\r\n var AutoBrower=BrowserRouter;\r\nif(process.env.NODE_ENV==='production'){\r\n    console.info('production env use nodejs server,so use BrowserRouter to router');\r\n    AutoBrower=BrowserRouter;\r\n}else{\r\n    console.info('dev env use webpack-dev-server,so use HashRouter to router');\r\n    AutoBrower=HashRouter;\r\n}\r\n\r\n\r\nconst MenuRouter=()=>(\r\n        <AutoBrower basename=\"/\">\r\n            <div>\r\n                <Route exact path=\"/\"  render={(match,location)=>(\r\n                    <IndexPage/>\r\n                )} />\r\n\r\n                <Route exact path=\"/other\"  render={(match,location)=>(\r\n                    <div>\r\n                            other Route\r\n                    </div>\r\n                )} />\r\n            </div>\r\n        </AutoBrower>\r\n);\r\n\r\nReactDOM.render(\r\n    (<MenuRouter/>)\r\n    , div_content);\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import React from 'react';\r\nimport {MyButtonController} from '../components/MyButtonController.js';\r\n\r\nclass IndexPage extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <MyButtonController/>\r\n        )\r\n    }\r\n}\r\nexport {IndexPage};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/page/index.js","var AppDispatcher = require('../dispatcher/AppDispatcher');\r\n\r\nvar ButtonActions = {\r\n\r\n  addNewItem: function (text) {\r\n    AppDispatcher.dispatch({\r\n      actionType: 'ADD_NEW_ITEM',\r\n      text: text\r\n    });\r\n  },\r\n\r\n};\r\n\r\nmodule.exports = ButtonActions;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/flux/actions/ButtonActions.js","var Dispatcher = require('flux').Dispatcher;\r\nvar AppDispatcher = new Dispatcher();\r\nvar ListStore = require('../stores/ListStore.js');\r\n\r\nAppDispatcher.register(function (action) {\r\n  switch(action.actionType) {\r\n    case 'ADD_NEW_ITEM':\r\n      ListStore.addNewItemHandler(action.text);\r\n      ListStore.emitChange();\r\n      break;\r\n    default:\r\n      // no op\r\n  }\r\n})\r\n\r\nmodule.exports = AppDispatcher;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/flux/dispatcher/AppDispatcher.js"],"sourceRoot":""}